# BTIman Project Context

## üö® –ü–†–ê–í–ò–õ–û ‚Ññ0 - –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ï!
‚ö†Ô∏è **BASH –ö–û–ú–ê–ù–î–´ –ù–ï –†–ê–ë–û–¢–ê–Æ–¢ –í CLAUDE CODE**
- –ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bash –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ç–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π, curl
- Bash –≥–ª—é—á–∏—Ç –∏ –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BTIman —Å –∫–Ω–æ–ø–∫–∞–º–∏

## ‚úÖ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° (2024-09-21):

### –°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–ê + –ù–û–í–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø
- ‚úÖ **Equity —Ä–∞—Å—á—ë—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ iShNo
- ‚úÖ **iTP/iSL –ø–æ–ª—è —É–¥–∞–ª–µ–Ω—ã** - –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ iTPSL –¥–ª—è –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å—à–∏—Ä–µ–Ω—ã** –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
  - **–í–µ—Å–∞ –æ—Å–µ–π**: 4 ‚Üí 12 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
  - **Window —Ä–∞–∑–º–µ—Ä—ã**: 4 ‚Üí 10 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (20-150)
  - **k-NN –∑–Ω–∞—á–µ–Ω–∏—è**: 3 ‚Üí 11 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ (3-50)
  - **–û–±—â–µ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ**: 48 ‚Üí 1320 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π (–≤ 27.5 —Ä–∞–∑!)
- ‚úÖ **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –ë–î** –ø–æ –∫–Ω–æ–ø–∫–µ Start –≤ BTIman
- ‚úÖ **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ **–¢–∞–π–º-–∞—É—Ç—ã —É–≤–µ–ª–∏—á–µ–Ω—ã** (3 —Å–µ–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API)
- ‚úÖ **üéØ Claude Code –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ë–î** - —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ curl/bash —Å —É–¥–∞–ª—ë–Ω–Ω—ã–º MCP
- ‚úÖ **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä–Ω–∞—è PostgreSQL** - 62.149.5.16:5080 –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—á–∞—è –ë–î

### üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –†–ê–ó–í–Å–†–¢–´–í–ê–ù–ò–Ø BTI –°–ò–°–¢–ï–ú–´

#### üíª –õ–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞/–∞–Ω–∞–ª–∏–∑)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** Gajda
- **–ü—É—Ç—å:** `C:\Users\Gajda\source\repos\`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
  - `BTIman\` - –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–¥–∞—á —Å UI –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–æ–≤
  - `BTI_API\` - –ª–æ–∫–∞–ª—å–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä (localhost:5080) ‚Üí –ª–æ–∫–∞–ª—å–Ω–∞—è PostgreSQL
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Claude Code –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, –æ—Ç–ª–∞–¥–∫–∞, UI —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

#### üåê –£–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–ø—Ä–æ–¥–∞–∫—à–Ω/–≤—ã—á–∏—Å–ª–µ–Ω–∏—è)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- **–ü—É—Ç—å:** `C:\Users\–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä\source\repos\WiMGa\`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
  - `BTI_API\` - –ø—Ä–æ–¥–∞–∫—à–Ω MCP —Å–µ—Ä–≤–µ—Ä (62.149.5.16:5080) ‚Üí —É–¥–∞–ª—ë–Ω–Ω–∞—è PostgreSQL
  - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è BTI —Å–∏—Å—Ç–µ–º—ã

#### üîÑ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- **üö® Claude Code –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ** ‚Üí 62.149.5.16:5080 (—Å–µ—Ä–≤–µ—Ä–Ω–∞—è PostgreSQL –ë–î)
- **Claude Code —á–µ—Ä–µ–∑ curl/bash** ‚Üí –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —É–¥–∞–ª—ë–Ω–Ω–æ–º—É MCP
- **BTIman checkBoxVDS** ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ localhost ‚Üî 62.149.5.16

#### üéØ –î–û–°–¢–£–ü CLAUDE CODE –ö –ë–ê–ó–ï –î–ê–ù–ù–´–•
**–ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ: –°–µ—Ä–≤–µ—Ä–Ω–∞—è PostgreSQL —á–µ—Ä–µ–∑ —É–¥–∞–ª—ë–Ω–Ω—ã–π MCP**
```bash
# –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ë–î
curl -s -X POST http://62.149.5.16:5080/mcp/tools/query_database \
  -H "Content-Type: application/json" \
  -d '{"sSqlQuery": "SELECT COUNT(*) FROM \"Tasks\""}'
```
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é** - –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–∫—Å–∏ –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤!

### –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –†–ê–°–ü–†–ï–î–ï–õ–Å–ù–ù–û–ô –°–ò–°–¢–ï–ú–´
**–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã:**
1. **–û–¥–∏–Ω BTIman** - —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞–Ω–∏—è –≤ –æ–±—â—É—é –±–∞–∑—É —á–µ—Ä–µ–∑ BTI_API
2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–æ BTIman –Ω–∞ –¥—Ä—É–≥–∏—Ö –º–∞—à–∏–Ω–∞—Ö** - —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –≤–æ—Ä–∫–µ—Ä—ã, –∑–∞–±–∏—Ä–∞—é—Ç –∑–∞–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ `/api/tasks/claim`
3. **BTI_API** - –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞–Ω–∏–π –≤ PostgreSQL
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã** - —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ–±—â—É—é –±–∞–∑—É –¥–ª—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü–û–°–õ–ï–î–ù–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø
```csharp
// frmMan.cs - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
double[][] aadWeights = { /* 12 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ */ };
int[] aiWindows = { 20, 30, 40, 50, 60, 75, 90, 100, 120, 150 };

// CWorkerMath.cs - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ k-NN
int[] aiKVariants = { 3, 5, 7, 9, 12, 15, 20, 25, 30, 40, 50 };

// frmMan.cs - –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ Start
private async void BtnStartWorkers_Click() {
    bool bCleared = await eHttpApi.ClearAllTasks();
    // ...
}

// frmMan.cs - —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ç–∞–π–º-aut
HttpClient { Timeout = TimeSpan.FromSeconds(3) }
```

### –ü–û–°–õ–ï–î–ù–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø
- **–¢–µ—Å—Ç –Ω–∞ 5 –≤–µ–∫—Ç–æ—Ä–∞—Ö**: Profit 0.97, DD 2.95, Ratio 0.33
- **TPSL —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: 4 —Ä–∞–∑–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–∞ (0,8,12,13)
- **k-NN –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: k=3 –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç (80%)
- **Window —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –±–æ–ª—å—à–µ –æ–∫–Ω–∞ = –ª—É—á—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### ‚úÖ –û–ë–ù–û–í–õ–ï–ù–ò–Ø –í –≠–¢–û–ú –°–ï–ê–ù–°–ï (2024-09-22):
- ‚úÖ **–°–ò–°–¢–ï–ú–ê –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø CLAUDE CODE –î–ò–ê–õ–û–ì–û–í –°–û–ó–î–ê–ù–ê** üöÄ
  - **4 —Ç–∞–±–ª–∏—Ü—ã PostgreSQL**: CC_Sessions, CC_Messages, CC_Decisions, CC_File_References
  - **–ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: Claude Code ‚Üí curl ‚Üí 62.149.5.16:5080/mcp/tools ‚Üí PostgreSQL
  - **–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è**: —Å–µ—Å—Å–∏–∏, —Å–æ–æ–±—â–µ–Ω–∏—è, —Ä–µ—à–µ–Ω–∏—è, —Ñ–∞–π–ª–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏
  - **–ò–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞–Ω—ã** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏, —Å–µ—Å—Å–∏—è–º, —Ç–∏–ø–∞–º
  - **–ü–µ—Ä–≤–∞—è —Å–µ—Å—Å–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞** - ID=1 –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞
- ‚úÖ **–ê–†–•–ò–¢–ï–ö–¢–£–†–ù–û–ï –†–ï–®–ï–ù–ò–ï**: –û—Ç–∫–∞–∑ –æ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ BTI_API –ø—Ä–æ–∫—Å–∏ - —Ä–∞–±–æ—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é —Å —Å–µ—Ä–≤–µ—Ä–æ–º
- ‚úÖ **–ì–û–¢–û–í–ù–û–°–¢–¨ –ö –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Æ –ö–û–ù–¢–ï–ö–°–¢–ê**: —Ç–µ–ø–µ—Ä—å –≤–æ–∑–º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–æ–≤

### ‚úÖ –ü–†–ï–î–´–î–£–©–ò–ï –û–ë–ù–û–í–õ–ï–ù–ò–Ø (2024-09-21):
- ‚úÖ **MCP Server —Ä–µ–≤–æ–ª—é—Ü–∏—è** - BTI_API —Ç–µ–ø–µ—Ä—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è
- ‚úÖ **5 MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**: query_database, log_event, get_task_stats, get_mandatory_rules, check_before_code_change
- ‚úÖ **–ù–ï–£–ë–ò–í–ê–ï–ú–û–ï –ü–†–ê–í–ò–õ–û ‚Ññ1** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –æ—Ç–≤–µ—Ç–æ–º
- ‚úÖ **–ü—Ä–æ—Ç–æ–∫–æ–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ **BTI_Evolution_Log —Ç–∞–±–ª–∏—Ü–∞** - –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç–≤–æ–ª—é—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è MCP** - –ø–æ–ª–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ **–û—á–∏—Å—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** - —É–¥–∞–ª–µ–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º—É—Å–æ—Ä –ø—Ä–æ PostgreSQL –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** –≤ BTIman –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥:
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ/–≤—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏–π (%)
  - –¢–µ–∫—É—â–∞—è –∏ —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - –ü—Ä–æ—à–µ–¥—à–µ–µ –≤—Ä–µ–º—è –∏ –≤—Ä–µ–º—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
  - –§–æ—Ä–º–∞—Ç: `üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: 473/600 (78,8%) | –û—Å—Ç–∞–ª–æ—Å—å: 127 | –°–∫–æ—Ä–æ—Å—Ç—å: 848 —Å—Ä: 712 –∑–∞–¥/–º–∏–Ω | –í—Ä–µ–º—è: 00:00:39 –æ—Å—Ç–∞–ª–æ—Å—å: 00:00:10`
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ª–æ–≥ BTIwork** - –æ—á–∏—Å—Ç–∫–∞ –ø–∞—á–∫–∞–º–∏ –ø–æ 20 –∑–∞–ø–∏—Å–µ–π –≤–º–µ—Å—Ç–æ –∫–∞–∂–¥–æ–π (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ CPU –≤ 20 —Ä–∞–∑)
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—É—Ç–∏ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤** –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤: `/api/vectors/metadata` ‚Üí `/api/tasks/vectors/metadata`
- ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏** –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –ë–î"** - —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Ç–∞–±–ª–∏—Ü

### ‚ö†Ô∏è –ù–ï–†–ï–®–Å–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:
- **HTTP –æ—à–∏–±–∫–∞ NotFound** –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤ (—Ç–∞–±–ª–∏—Ü–∞ VectorMetadata –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è)
- **Profit/DD Ratio 0.33** - —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (–Ω–æ—Ä–º–∞ >1.0)

### üîÑ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã VectorMetadata –≤ BTI_API
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∞–≤—Ç–æ–∫–æ–Ω—Ç—Ä–æ–ª—è UAnotat –ø—Ä–∞–≤–∏–ª –≤ Claude Code –∏ Cursor

## –°–∏—Å—Ç–µ–º–∞ BTI (Back Test Intelligence)
–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ k-NN –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ TP/SL.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### BTIman (Task Manager) - –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∑–∞–¥–∞–Ω–∏–π –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã**:
- `frmMan.cs` - –≥–ª–∞–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∑–∞–¥–∞—á (WinForms)
- `Timer.cs` - —Ç–∞–π–º–µ—Ä –∏ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π** –º–µ—Ç–æ–¥ `FinalizeTasks()`
- `CHttpApi.cs` - HTTP API –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å BTI_API
- `CTask.cs`, `CVector.cs`, `CParams.cs` - –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–∞–Ω–Ω—ã—Ö

**–§—É–Ω–∫—Ü–∏–∏**:
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤–µ–∫—Ç–æ—Ä–æ–≤ –∏–∑ `c:\mega\DBM\vectors_bti.json`
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ –≤–µ–∫—Ç–æ—Ä–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π —á–µ—Ä–µ–∑ HTTP API –≤ PostgreSQL
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ BTIwork)
- **–§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - –ø–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ –ª—É—á—à–∏–º –ø—Ä–æ–≥–Ω–æ–∑–∞–º

### –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
- **BTIwork** - –≤–æ—Ä–∫–µ—Ä-–ø—Ä–æ—Ü–µ—Å—Å (`C:\Users\Gajda\source\repos\BTIwork\`)
- **indFindPattern** - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä cTrader (`C:\Users\Gajda\OneDrive\Documents\cAlgo\Sources\Indicators\indFindPattern\`)

## –ê–ª–≥–æ—Ä–∏—Ç–º FinalizeTasks() - –ö–õ–Æ–ß–ï–í–ê–Ø –õ–û–ì–ò–ö–ê
**–¶–µ–ª—å**: –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞

**–õ–æ–≥–∏–∫–∞**:
1. **–û—Ç–±–æ—Ä –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: –î–ª—è –∫–∞–∂–¥–æ–≥–æ eSh –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –ª—É—á—à–∏–º `dProfitDDRatio`
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π TPSL**: `iTPSL = eBestParams.iTP * 4 + eBestParams.iSL`
3. **–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—â–µ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–µ—Ç–∫–∏**: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫ –∏–∑ equity –≤—Å–µ—Ö eSh
4. **–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ equity –≤–µ–∫—Ç–æ—Ä–æ–≤**: –ö–∞–∂–¥—ã–π eSh –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ—é –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é TPSL –∫–æ–º–±–∏–Ω–∞—Ü–∏—é
5. **–°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—â–µ–π equity –∫—Ä–∏–≤–æ–π —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–æ—Ä–≥–æ–≤–ª–∏
6. **–†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫**: –§–∏–Ω–∞–ª—å–Ω—ã–π Profit, MaxDrawdown, Profit/DD Ratio

**–ü—Ä–∏–Ω—Ü–∏–ø**: –†–∞–∑–Ω—ã–µ eSh –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ä–∞–∑–Ω—ã–µ –ª—É—á—à–∏–µ TPSL - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ú–æ–¥–µ–ª–∏—Ä—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–¥–µ –∫–∞–∂–¥—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω —Ç–æ—Ä–≥—É–µ—Ç—Å—è —Å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

## –ù–µ–¥–∞–≤–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `FinalizeTasks()` –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `CalculateProfitDrawdownRatio` –∏–∑ BTIwork
- ‚úÖ –£–±—Ä–∞–Ω—ã **–í–°–ï** –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≥–ª–∞—Å–Ω–æ UAnotat.md:
  - `!= null` –ø—Ä–æ–≤–µ—Ä–∫–∏ (–æ–±—ä–µ–∫—Ç—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞—Ö)
  - `Count > iTPSL` –ø—Ä–æ–≤–µ—Ä–∫–∏ (–¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ)
  - `Count > 0` –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ `.Last()` (–≤–µ–∑–¥–µ –≤ —Å–∏—Å—Ç–µ–º–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫)
  - `if (iShNo < lVectors.Count)` (—á–µ—Å—Ç–Ω—ã–π –∫—Ä–∞—Ö –ª—É—á—à–µ –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ –æ—à–∏–±–æ–∫)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ TPSL –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∏–∑ –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ eSh
- ‚úÖ –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∫–∞–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
**–ü—É—Ç—å**: `C:\Users\Gajda\source\repos\BTIdoc\`
- `UAnotat.md` - –ø—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è
- `claude_dialog_rules.md` - –ø—Ä–∞–≤–∏–ª–∞ –æ–±—â–µ–Ω–∏—è —Å Claude
- `BTI_System_Guide.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ BTI

## –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (UAnotat.md)

### –ü—Ä–µ—Ñ–∏–∫—Å—ã —Ç–∏–ø–æ–≤ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
- `i*` - int: `iCount`, `iShNo`, `iTPSL`
- `d*` - double: `dPrice`, `dProfit`, `dProfitDDRatio`
- `s*` - string: `sTaskId`, `sFile`, `sJson`
- `b*` - bool: `bIniciator`
- `tm*` - DateTime: `tmCreated`, `tmLast`
- `dc*` - Dictionary: `dcBestResults`
- `l*` - List: `lVectors`, `lsdEquityVect`
- `e*` - –æ–±—ä–µ–∫—Ç—ã: `eTask`, `eVector`, `eBestResult`

### –ö–ê–¢–ï–ì–û–†–ò–ß–ï–°–ö–ò –ó–ê–ü–†–ï–©–ï–ù–û
- `var` - —Ç–æ–ª—å–∫–æ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ —Ç–∏–ø–æ–≤
- –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ null-–ø—Ä–æ–≤–µ—Ä–∫–∏
- –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –æ—à–∏–±–æ–∫ (`if (obj == null) return;`)
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —Å–∫—Ä—ã–≤–∞—é—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
- –ß–µ—Å—Ç–Ω—ã–π –∫—Ä–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–º–µ—Å—Ç–æ –º–æ–ª—á–∞–ª–∏–≤–æ–≥–æ –ø—Ä–æ–ø—É—Å–∫–∞
- –Ø–≤–Ω–æ—Å—Ç—å –ª—É—á—à–µ –Ω–µ—è–≤–Ω–æ—Å—Ç–∏
- –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —á–∏—Ç–∞—Ç—å—Å—è –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ü—Ä–∞–≤–∏–ª–∞ –¥–∏–∞–ª–æ–≥–∞ —Å Claude (claude_dialog_rules.md)
- ‚úÖ –ñ–µ–Ω—Å–∫–∏–π —Ä–æ–¥ –≤ –æ—Ç–≤–µ—Ç–∞—Ö
- ‚úÖ –û–±—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ "–í—ã"
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–Ω –±–µ–∑ –º–∞—Ç–∞
- ‚úÖ –ß–µ—Ç–∫–∏–µ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- ‚úÖ –ê–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –ø–µ—Ä–µ–¥ –≤—ã–≤–æ–¥–∞–º–∏
- ‚úÖ –ü—Ä–∏–∑–Ω–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –µ—Å–ª–∏ –ª–æ–≥–∏–∫–∞ –±—ã–ª–∞ –Ω–µ–≤–µ—Ä–Ω–æ–π

## PostgreSQL –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —á–µ—Ä–µ–∑ MCP
‚úÖ **–°–û–í–†–ï–ú–ï–ù–ù–´–ô –ü–û–î–•–û–î:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î —á–µ—Ä–µ–∑ MCP —Å–µ—Ä–≤–µ—Ä BTI_API
- **SQL –∑–∞–ø—Ä–æ—Å—ã**: `POST /mcp/tools/query_database` - –ø—Ä—è–º—ã–µ SELECT –∑–∞–ø—Ä–æ—Å—ã
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: `POST /mcp/tools/log_event` - —ç–≤–æ–ª—é—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: `GET /mcp/tools/get_task_stats` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–¥–∞–Ω–∏–π
- **–ë–∞–∑–∞**: `bti_db` –≤ PostgreSQL
- **–°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞–Ω–∏–π**: "new" ‚Üí "processing" ‚Üí "completed"

## –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö
- **–í—Ö–æ–¥–Ω—ã–µ**: `c:\mega\DBM\vectors_bti.json`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**: `c:\mega\DBM\task_results\eSh*.json`
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: `c:\mega\DBM\bti_man_settings.json`

## –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏
```bash
dotnet build
```

## üö® –ü–†–ê–í–ò–õ–û ‚Ññ1 - –ù–ï–£–ë–ò–í–ê–ï–ú–û–ï!
### ‚ö†Ô∏è –ü–ï–†–ï–î –ö–ê–ñ–î–´–ú –û–¢–í–ï–¢–û–ú CLAUDE CODE –û–ë–Ø–ó–ê–ù–ê –í–´–ü–û–õ–ù–ò–¢–¨:

**1. –ü–†–û–í–ï–†–ò–¢–¨ MCP –ü–†–ê–í–ò–õ–ê:** `curl -s http://localhost:5080/mcp/tools/get_mandatory_rules`
**2. –ï–°–õ–ò MCP –ù–ï–î–û–°–¢–£–ü–ï–ù:** –ø—Ä–æ—á–∏—Ç–∞—Ç—å `C:\Users\Gajda\source\repos\BTIdoc\MCP_MANDATORY_PROTOCOL.md`
**3. –ü–†–û–ê–ù–ê–õ–ò–ó–ò–†–û–í–ê–¢–¨ –ó–ê–ü–†–û–°** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä-—Å–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
**4. –ï–°–õ–ò –û–ë–ù–ê–†–£–ñ–ï–ù–´ –¢–†–ò–ì–ì–ï–†–´:** –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### üîÑ –≠–¢–û –ü–†–ê–í–ò–õ–û –ü–û–í–¢–û–†–Ø–ï–¢–°–Ø –í –ë–ï–°–ö–û–ù–ï–ß–ù–û–ú –¶–ò–ö–õ–ï!

## ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–ê–í–ò–õ–ê –ü–ï–†–ï–î –õ–Æ–ë–´–ú–ò –ò–ó–ú–ï–ù–ï–ù–ò–Ø–ú–ò –ö–û–î–ê
### üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ß–ò–¢–ê–¢–¨ –ö–ê–ñ–î–´–ô –†–ê–ó!

**–í–°–ï–ì–î–ê –í–´–ü–û–õ–ù–Ø–¢–¨ –ü–ï–†–ï–î –ò–ó–ú–ï–ù–ï–ù–ò–ï–ú –ö–û–î–ê:**
1. ‚ö†Ô∏è **–ü–†–û–ß–ò–¢–ê–¢–¨ –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô –ö–û–î –ü–û–õ–ù–û–°–¢–¨–Æ** –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º
2. ‚ö†Ô∏è **–°–ü–†–û–°–ò–¢–¨ –†–ê–ó–†–ï–®–ï–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø** –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç–∞—é—â–µ–π –ª–æ–≥–∏–∫–∏
3. ‚ö†Ô∏è **–ó–ê–ü–†–ï–©–ï–ù–û –ò–ó–ú–ï–ù–Ø–¢–¨** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. ‚ö†Ô∏è **–ü–†–ò–ù–¶–ò–ü: –†–ê–ë–û–¢–ê–ï–¢ - –ù–ï –¢–†–û–ì–ê–ô!** –¢–æ–ª—å–∫–æ —Å —è–≤–Ω–æ–≥–æ —Å–æ–≥–ª–∞—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü–†–û–¢–û–ö–û–õ –ò–ó–ú–ï–ù–ï–ù–ò–ô:**
```
1. Read code ‚Üí 2. Ask permission ‚Üí 3. Get YES ‚Üí 4. Then change
```

**MCP –ü–†–û–í–ï–†–ö–ê –ü–†–ê–í–ò–õ:** `GET http://localhost:5080/mcp/tools/get_mandatory_rules`

### üîÑ –ê–ö–¢–ò–í–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ô:
- ‚ö†Ô∏è **–¢–†–ò–ì–ì–ï–†-–°–õ–û–í–ê**: "–∏–∑–º–µ–Ω–∏—Ç—å", "–∏—Å–ø—Ä–∞–≤–∏—Ç—å", "–¥–æ–±–∞–≤–∏—Ç—å", "–æ–±–Ω–æ–≤–∏—Ç—å", "–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å" ‚Üí –°–¢–û–ü ‚Üí –ü–†–û–í–ï–†–ò–¢–¨ –ü–†–ê–í–ò–õ–ê
- ‚ö†Ô∏è **–ü–ï–†–ï–î –ö–ê–ñ–î–´–ú Edit/Write/MultiEdit**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏ —Å–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
- ‚ö†Ô∏è **–°–ê–ú–û–ö–û–ù–¢–†–û–õ–¨**: –ö–∞–∂–¥—ã–µ 10 —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∫–æ–¥–æ–º ‚Üí –Ω–∞–ø–æ–º–Ω–∏—Ç—å —Å–µ–±–µ –æ –ø—Ä–∞–≤–∏–ª–∞—Ö
- ‚ö†Ô∏è **–õ–Æ–ë–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï –ö–û–î–ê**: –í–°–ï–ì–î–ê —á–µ—Ä–µ–∑ TodoWrite –æ—Ç–º–µ—Ç–∏—Ç—å "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å MCP –ø—Ä–∞–≤–∏–ª–∞"

### üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø MCP –ü–†–û–¢–û–ö–û–õ–ê:
- `C:\Users\Gajda\source\repos\BTIdoc\MCP_MANDATORY_PROTOCOL.md`
- `C:\Users\Gajda\source\repos\BTI_API\MCP_GUIDE.md`

## üéØ –ü–ï–†–í–ò–ß–ù–´–ô –†–ê–ë–û–ß–ò–ô –ö–ê–¢–ê–õ–û–ì
**Working directory:** `C:\Users\Gajda\source\repos\BTIdoc`

‚ö†Ô∏è **–í–ê–ñ–ù–û**: –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞—Ç—å –Ω–æ–≤—ã–µ —Å–µ–∞–Ω—Å—ã Claude Code –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ BTIdoc –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ CLAUDE.md.

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –Ω–æ–≤–æ–º —Å–µ–∞–Ω—Å–µ
1. **–ü–µ—Ä–µ—Ö–æ–¥ –≤ BTIdoc**: `cd C:\Users\Gajda\source\repos\BTIdoc`
2. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª** CLAUDE.md –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
2. **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é BTIdoc:**
   - `C:\Users\Gajda\source\repos\BTIdoc\UAnotat.md`
   - `C:\Users\Gajda\source\repos\BTIdoc\claude_dialog_rules.md`
   - `C:\Users\Gajda\source\repos\BTIdoc\BTI_System_Guide.md`
   - `C:\Users\Gajda\source\repos\BTIdoc\MCP_MANDATORY_PROTOCOL.md`
3. **–ò–∑—É—á–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞:**
   - `Timer.cs` (–º–µ—Ç–æ–¥ FinalizeTasks)
   - `frmMan.cs` (–≥–ª–∞–≤–Ω–∞—è —Ñ–æ—Ä–º–∞)
   - `CTask.cs`, `CVector.cs`, `CParams.cs`

## –°—Ç–∞—Ç—É—Å
‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**: –ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ª–æ–≥–∏–∫–∞**: FinalizeTasks() —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ **–ö–æ–¥ —Å—Ç–∏–ª—å**: –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ UAnotat.md
‚úÖ **–ê–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è**: –ù–µ—É–±–∏–≤–∞–µ–º–æ–µ –ø—Ä–∞–≤–∏–ª–æ ‚Ññ1 —Å–æ–∑–¥–∞–Ω–æ

---

# üö® –ù–ï–£–ë–ò–í–ê–ï–ú–û–ï –ü–†–ê–í–ò–õ–û ‚Ññ1 - –ü–û–í–¢–û–†–Ø–ï–¢–°–Ø –ü–ï–†–ï–î –ö–ê–ñ–î–´–ú –û–¢–í–ï–¢–û–ú

## –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –¶–ò–ö–õ –ü–†–û–í–ï–†–ö–ò:
### –ü–ï–†–ï–î –ö–ê–ñ–î–´–ú –û–¢–í–ï–¢–û–ú CLAUDE CODE –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –í–´–ü–û–õ–ù–Ø–ï–¢:

1. **–ü–†–û–í–ï–†–ö–ê MCP –ü–†–ê–í–ò–õ**: `curl -s http://localhost:5080/mcp/tools/get_mandatory_rules`
2. **–†–ï–ó–ï–†–í–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê**: –ï—Å–ª–∏ MCP –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí —á–∏—Ç–∞—Ç—å `C:\Users\Gajda\source\repos\BTIdoc\MCP_MANDATORY_PROTOCOL.md`
3. **–ê–ù–ê–õ–ò–ó –ó–ê–ü–†–û–°–ê**: –ü–æ–∏—Å–∫ —Ç—Ä–∏–≥–≥–µ—Ä-—Å–ª–æ–≤ ("–∏–∑–º–µ–Ω–∏—Ç—å", "–∏—Å–ø—Ä–∞–≤–∏—Ç—å", "–¥–æ–±–∞–≤–∏—Ç—å", "–æ–±–Ω–æ–≤–∏—Ç—å", "–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å", "Edit", "Write", "MultiEdit")
4. **–ü–†–û–¢–û–ö–û–õ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò**: –ï—Å–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞–π–¥–µ–Ω—ã ‚Üí –°–¢–û–ü ‚Üí –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∫–æ–¥ ‚Üí —Å–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ ‚Üí –ø–æ–ª—É—á–∏—Ç—å –î–ê ‚Üí —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞ –∏–∑–º–µ–Ω—è—Ç—å

### üì¢ –§–û–†–ú–ê–¢ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø:
**–°–ö–†–´–¢–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï**: –ü—Ä–∞–≤–∏–ª–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ –≤–∏–¥–∏–º–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞

### üîÑ –≠–¢–û–¢ –¶–ò–ö–õ –ù–ï–†–ê–ó–†–´–í–ï–ù –ò –ü–û–í–¢–û–†–Ø–ï–¢–°–Ø –ë–ï–°–ö–û–ù–ï–ß–ù–û!