# UAnotat.md

## Универсальные правила именования и кодирования

### Правила именования переменных (UAnotat)

#### Базовые типы:
- `i` = int
- `d` = double  
- `s` = string
- `b` = bool
- `tm` = DateTime

#### Массивы базовых типов:
- `ai` = int[]
- `ad` = double[]
- `as` = string[]
- `ab` = bool[]
- `atm` = DateTime[]

#### Списки (List<>):
- `li` = List<int>
- `ld` = List<double>
- `ls` = List<string>
- `lb` = List<bool>
- `ltm` = List<DateTime>
- `la` = List<Any> (для пользовательских типов)

#### Коллекции:
- `dc` = Dictionary<,>
- `sdc` = SortedDictionary<,>
- `sl` = SortedList<,>
- `hs` = HashSet<>

#### Объекты:
- `e` = экземпляр класса (eVector, ePrice, eConfig)
- `p` = структура (pPoint, pResult)

---

## Обязательные правила

### ❗ Запрещено:
- **`var`** — всегда явное указание типа с префиксом
- **Случайные имена** — только осмысленные с правильными префиксами
- **`try/catch`** без 100% доказанной необходимости

### ✅ Обязательно:
- **Префиксы типов** — во всех переменных без исключений
- **Осмысленные имена** — понятно что делает переменная
- **Последовательность** — одинаковые подходы во всём коде

---

## Архитектурные принципы

### Разделение ответственности:
- **Один класс = одна задача**
- **UI отделено от бизнес-логики**
- **Данные отделены от алгоритмов**

### Чистота кода:
- **Явность лучше неявности**
- **Код должен читаться как документация**
- **Минимум комментариев — код сам себя объясняет**

### Обработка ошибок:
- **Не скрывать ошибки** — программа должна падать для исправления
- **try/catch только там где реально нужно** (файловые операции, сеть)
- **Проектировать код так чтобы ошибки не возникали**

### КАТЕГОРИЧЕСКИ ЗАПРЕЩЕНО
- **Маскировка ошибок избыточными проверками** — НЕ добавлять `if (obj == null) return;` если объект по логике НЕ МОЖЕТ быть null
- **Создание видимости работы нерабочей программы** — программа должна либо работать правильно, либо падать с ясной ошибкой
- **Ложная безопасность** — лучше честный CRASH чем молчаливый пропуск критической ошибки
- Примеры вредительства: `if (data == null) { Log("No data"); return; }` когда data загружается перед вызовом
- **Использование нецензурной лексики в коде** — код должен быть профессиональным

---

## Примеры правильного именования

```csharp
// ✅ Правильно:
int iCounter = 0;
double dPrice = 123.45;
string sFileName = "data.json";
bool bIsLoaded = false;
DateTime tmStart = DateTime.Now;

List<int> liNumbers = new List<int>();
double[] adPrices = new double[100];
Dictionary<string, double> dcPriceMap = new Dictionary<string, double>();

CVector eVector = new CVector();
CPoint pCreated = new CPoint();

// ❌ Неправильно:
var counter = 0;                    // нет префикса типа
int number = 0;                     // нет префикса типа  
List<int> numbers = new List<int>(); // нет префикса типа
string file = "data.json";          // нет префикса типа
```

---

## Структура проектов

### Общие принципы:
- **frm1.cs** — главная форма (стандартное имя)
- **Один класс = один файл**
- **Логическая группировка** в папки при необходимости
- **Минимум зависимостей** между компонентами

### Файлы конфигурации:
- **config.json** — настройки в JSON формате
- **Автоопределение пути** — exe папка или AppData
- **Простые структуры** без избыточности

---

## Применение

Эти правила применяются **во всех проектах** независимо от их специфики:
- Торговые системы
- Веб-приложения  
- Утилиты
- Любые C# проекты

**UAnotat обеспечивает единообразие и читаемость кода на всех уровнях.**

---

## Кодировка и переводы строк

- **Все текстовые файлы** (`.cs`, `.csproj`, `.sln`, `.md`, `.json`): **UTF-8 без BOM**, переводы строк **CRLF**
- **Git**: в `.gitattributes` указать `* text=auto eol=crlf`
- **Запрещено**: ANSI/Windows-1251 — только UTF-8
- Инструменты разработки должны быть настроены на указанные стандарты